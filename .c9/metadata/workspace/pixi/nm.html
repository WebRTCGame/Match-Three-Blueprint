{"filter":false,"title":"nm.html","tooltip":"/pixi/nm.html","undoManager":{"mark":23,"position":23,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":93,"column":0}},"lines":["<!DOCTYPE HTML>","<html>","<head>","","\t<title>Sprite Batch</title>","\t<style>","\t\tbody {","\t\t\tmargin: 0;","\t\t\tpadding: 0;","\t\t\tbackground-color: #000000;","\t\t}","","\t\t.rendererView {","\t\t\tposition: absolute;","\t\t\tdisplay: block;","\t\t\twidth: 100%;","\t\t\theight: 100%;","\t\t}","\t</style>","\t","\t<script src=\"pixi.js\"></script>","\t<script src=\"../../bin/pixi.dev.js\"></script>","\t<script src=\"NormalMapFilter.js\"></script>","\t","","</head>","<body>","","\t<script>","\t","\tvar viewWidth =  1024// /2;","\tvar viewHeight = 1024//512 /2;","","\t// Create a pixi renderer","\tvar renderer = PIXI.autoDetectRenderer(viewWidth, viewHeight);","\trenderer.view.className = \"rendererView\";","\t","\t// add render view to DOM","\tdocument.body.appendChild(renderer.view);","","\t// create an new instance of a pixi stage","\tvar stage = new PIXI.Stage(0xFFFFFF);","","\t// create a background texture","\tvar pondFloorTexture = PIXI.Texture.fromImage(\"counch_norm.jpg\");","\t// create a new background sprite","\t//var pondFloorSprite = new PIXI.Sprite(pondFloorTexture);","\t//stage.addChild(pondFloorSprite);","","\t","\t","\tvar filter = new PIXI.NormalMapFilter(pondFloorTexture);","","\tvar sprite = PIXI.Sprite.fromImage(\"couch.jpg\");//(pondFloorTexture);","","\tsprite.filters = [filter];","\tstage.addChild(sprite);","","","\tvar tick = 0;","\trequestAnimationFrame(animate);","","\tfunction animate() ","\t{","\t\t","\t\t","\t\t// increment the ticker","\t\ttick += 0.1;","\t\t","\t\tvar mouse = stage.interactionManager.mouse;","","\t\tif( mouse.global.x < 0) mouse.global.x = 0;","\t\telse if( mouse.global.x > viewWidth) mouse.global.x = viewWidth;","","\t\tif( mouse.global.y < 0) mouse.global.y = 0;","\t\telse if( mouse.global.y > viewHeight) mouse.global.y = viewHeight;","","","\t\t//console.log( mouse.global.x );","\t\tfilter.uniforms.LightPos.value[0] = mouse.global.x;","\t\tfilter.uniforms.LightPos.value[1] = mouse.global.y;","\t\t// time to render the state!","\t    renderer.render(stage);","\t    ","\t    // request another animation frame..","\t    requestAnimationFrame( animate );","\t}","","\t</script>","","\t</body>","</html>"]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":1},"end":{"row":22,"column":2}},"text":"<"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":2},"end":{"row":22,"column":3}},"text":"!"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":3},"end":{"row":22,"column":4}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":4},"end":{"row":22,"column":5}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":50},"end":{"row":22,"column":51}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":51},"end":{"row":22,"column":52}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":22,"column":52},"end":{"row":22,"column":53}},"text":">"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":45,"column":48},"end":{"row":45,"column":59}},"text":"counch_norm"},{"action":"insertText","range":{"start":{"row":45,"column":48},"end":{"row":45,"column":49}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":45,"column":49},"end":{"row":45,"column":50}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":45,"column":50},"end":{"row":45,"column":51}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":45,"column":51},"end":{"row":45,"column":52}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":45,"column":52},"end":{"row":45,"column":53}},"text":"2"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":45,"column":53},"end":{"row":45,"column":54}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":45,"column":54},"end":{"row":45,"column":55}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":54,"column":37},"end":{"row":54,"column":46}},"text":"couch.jpg"},{"action":"insertText","range":{"start":{"row":54,"column":37},"end":{"row":54,"column":38}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":38},"end":{"row":54,"column":39}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":39},"end":{"row":54,"column":40}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":40},"end":{"row":54,"column":41}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":41},"end":{"row":54,"column":42}},"text":"2"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":42},"end":{"row":54,"column":43}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":43},"end":{"row":54,"column":44}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":44},"end":{"row":54,"column":45}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":54,"column":45},"end":{"row":54,"column":46}},"text":"g"}]}]]},"ace":{"folds":[],"scrolltop":720,"scrollleft":0,"selection":{"start":{"row":69,"column":2},"end":{"row":69,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":326,"mode":"ace/mode/html"}},"timestamp":1411397479647,"hash":"0eee070879af99456c7e590832923138a831e4cc"}